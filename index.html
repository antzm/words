<!DOCTYPE html>
<html lang='en'>
<head>
	<meta charset='UTF-8'>
	<title>Learning Words</title>

<script>

// the array myWords contains multiple arrays.
// Each one of those arrays, contains an english word, 
// as the first element of the array,
// and the meaning or meanings of the english word.
// There can be only one engish word in each array,
// but there is no limit on how many meaning can be included.

// English words to Greek words
	
const myWordsSet01 = [

['kitchen', 'κουζίνα'],
['under', 'κάτω'],
['snow', 'χιόνι'],
['cake', 'κέικ'],
['water', 'νερό'],
['bathroom', 'μπάνιο', 'λουτρό'],
['living room', 'σαλόνι', 'καθιστικό'],
['eye', 'μάτι'],
['hair', 'μαλιά'],
['head', 'κεφάλι'],
['leg', 'πόδι'],
['foot', 'πατούσα', 'πόδι'],
['arm', 'βραχίονας'],
['hand', 'χέρι'],
['book', 'βιβλίο'],
['look', 'κοιτάω', 'κοιτάζω', 'κοιτώ'],
['watch', 'παρατηρώ', 'ρολόι']

];

const myWordsSet02 = [
	['s2word00', 'meaning00a'],
	['s2word01', 'meaning01a', 'meaning01b'],
	['s2word02', 'meaning02a', 'meaning02b', 'meaning02c'],
	['s2word03', 'meaning03a', 'meaning03b', 'meaning03c', 'meaning03d'],
	['s2word04', 'meaning04a', 'meaning04b', 'meaning04c', 'meaning04d', 'meaning04e'],
	['s2word05', 'meaning05a'],
	['s2word06', 'meaning06a', 'meaning06b'],
	['s2word07', 'meaning07a', 'meaning07b', 'meaning07c'],
	['s2word08', 'meaning08a', 'meaning08b', 'meaning08c', 'meaning08d'],
	['s2word09', 'meaning09a', 'meaning09b', 'meaning09c', 'meaning09d', 'meaning09e']
];

const myWordsSet03 = [
	['s3word00', 'meaning00a'],
	['s3word01', 'meaning01a', 'meaning01b'],
	['s3word02', 'meaning02a', 'meaning02b', 'meaning02c'],
	['s3word03', 'meaning03a', 'meaning03b', 'meaning03c', 'meaning03d'],
	['s3word04', 'meaning04a', 'meaning04b', 'meaning04c', 'meaning04d', 'meaning04e'],
	['s3word05', 'meaning05a'],
	['s3word06', 'meaning06a', 'meaning06b'],
	['s3word07', 'meaning07a', 'meaning07b', 'meaning07c'],
	['s3word08', 'meaning08a', 'meaning08b', 'meaning08c', 'meaning08d'],
	['s3word09', 'meaning09a', 'meaning09b', 'meaning09c', 'meaning09d', 'meaning09e']
];

const myWordsSet04 = [
	['s4word00', 'meaning00a'],
	['s4word01', 'meaning01a', 'meaning01b'],
	['s4word02', 'meaning02a', 'meaning02b', 'meaning02c'],
	['s4word03', 'meaning03a', 'meaning03b', 'meaning03c', 'meaning03d'],
	['s4word04', 'meaning04a', 'meaning04b', 'meaning04c', 'meaning04d', 'meaning04e'],
	['s4word05', 'meaning05a'],
	['s4word06', 'meaning06a', 'meaning06b'],
	['s4word07', 'meaning07a', 'meaning07b', 'meaning07c'],
	['s4word08', 'meaning08a', 'meaning08b', 'meaning08c', 'meaning08d'],
	['s4word09', 'meaning09a', 'meaning09b', 'meaning09c', 'meaning09d', 'meaning09e']
];

const myWordsSet05 = [
	['s5word00', 'meaning00a'],
	['s5word01', 'meaning01a', 'meaning01b'],
	['s5word02', 'meaning02a', 'meaning02b', 'meaning02c'],
	['s5word03', 'meaning03a', 'meaning03b', 'meaning03c', 'meaning03d'],
	['s5word04', 'meaning04a', 'meaning04b', 'meaning04c', 'meaning04d', 'meaning04e'],
	['s5word05', 'meaning05a'],
	['s5word06', 'meaning06a', 'meaning06b'],
	['s5word07', 'meaning07a', 'meaning07b', 'meaning07c'],
	['s5word08', 'meaning08a', 'meaning08b', 'meaning08c', 'meaning08d'],
	['s5word09', 'meaning09a', 'meaning09b', 'meaning09c', 'meaning09d', 'meaning09e']
];

</script>

<style>

.intro {
	text-align: center;
}

.main-content {
	font-size: 18px;
	text-align: center;
}

.main-content-info {
	font-style: italic;
}

.buttons {
	text-align: center;
	display: inline-block;
	background-color: #3d94f6;
	border: 1px solid #337fed;
	color: #ffffff;
	font-family: Arial;
	font-size: 15px;
	font-weight: bold;
	padding: 6px 24px;
	margin: 3px;
	text-decoration:none;
	text-shadow: 0px 1px 0px #1570cd;
	border-radius: 4px;
}

.buttons:hover {
	background-color: #00008b;
}

.button-group-upper,
.button-group-lower {
	list-style-type: none;
	margin: auto;
 	display: flex;
  	flex-direction: row;
  	justify-content: center;
}

.answer-form {
	text-align: center;
	margin-top: 36px;
	margin-bottom: 36px;
}

.display-words {
	text-align: center;
}

.message-word {
	font-size: 17px;
	font-style: italic;
}

.question-word {
	font-size: 18px;
	font-weight: bold;
}

.display-no {
	display: none;
}

.display-yes {
	display: block;
}

.display-answer-result {
	margin-top: 36px;
	margin-bottom: 36px;
}

.status-hide-result {
	visibility: hidden;
}

.status-show-result {
	visibility: show;	
}

.answer-result {
	text-align: center;
	font-size: 23px;
	font-weight: bold;
	margin-top: 18px;
	margin-bottom: 8px;
	
}

.display-correct-answer {

}

.status-hide-answer {
	visibility: hidden;
}

.status-show-answer {
	visibility: show;
}

.correct-answer {
	text-align: center;
	font-size: 23px;
	margin-top: 3px;
	margin-bottom: 28px;
}

</style>

</head>
<body>

	<h1 class='intro'>Learning Words</h1>
	<p class='main-content'>This page will help you to learn new words!</p>
	<p class='main-content main-content-info'>to start, choose a level...</p>

	<ul class='button-group-upper'>
		<li><button class='buttons button-1' type='button'>Level 1</button></li>
		<li><button class='buttons button-2' type='button'>Level 2</button></li>
		<li><button class='buttons button-3' type='button'>Level 3</button></li>
		<li><button class='buttons button-4' type='button'>Level 4</button></li>
		<li><button class='buttons button-5' type='button'>Level 5</button></li>
	</ul>

<div class='display-option display-no'>

	<div class="display-words">
		<p class="message-word">...and now, please, write the meaning of the word:</p>
		<p class="question-word">English Word</p>
		

	</div>

<!-- 	<form action='javascript:handleForm()' class='answer-form'>
		<label for='writeAnswer'>Answer:</label>
		<input type='text' name='write-answer' id='writeAnswer' autocomplete='off'>
		<input type='submit' value='Submit answer'>
		<input type="reset" value="Reset">
	</form> -->


	<form class='answer-form'>
		<label for='writeAnswer'>Answer:</label>
		<input type='text' name='write-answer' id='writeAnswer' autocomplete='off'>
		<input type="reset" value="Reset">
	</form>

<!-- 
	Displays either "Correct answer!" or "The correct answer is:".
	The text is hidden and appears as soon as we subit an answer.
	Classes "status-show-result" and "status-hide-result" allow to show or hide this text.
	The functions "correctAnswer()" and "notCorrectAnswer()" control this behavior.
-->
<div class='display-answer-result status-show-result'>
	<p class='answer-result'>Display Message for Correct or Not Correct Answer</p>
</div>

<!--
	If the answer is not correct, it displays the correct word or the correct words.
	This text is hidden and appears only whenever an answer is not correct.
 	Classes "status-show-answer" and "status-hide-answer" allow to show or hide this text.
 	The functions ... control this behavior.
-->
<div class='display-correct-answer status-show-answer'>
	<p class='correct-answer'>If answer not correct then Display Correct Answer</p>
</div>

	<ul class='button-group-lower'>
		<li><button class='buttons button-6' type='button'>Previous Question</button></li>
		<li><button class='buttons button-7' type='button'>Repeat Question</button></li>
		<li><button class='buttons button-8' type='button'>Next Question </button></li>
	</ul>

</div>

<script>

let wordQuiz;

let randomWordQuiz;

let index;

// displayMainWords()
// displayCompleteWords()
// displayWordsMeanings()

enableListeners()

function enableListeners() {
	const buttonListUpper = document.querySelector('.button-group-upper');
	buttonListUpper.addEventListener('click', activateButtons);
	const buttonListLower = document.querySelector('.button-group-lower');
	buttonListLower.addEventListener('click', activateButtons);	
}

function activateButtons(evt) {
	if (evt.target.classList.contains('button-1')) {
		wordQuiz = myWordsSet01;
		index = 0;
		clearForm()
		startQuiz();
		questWord();
	}
	if (evt.target.classList.contains('button-2')) {
		wordQuiz = myWordsSet02;
		index = 0;
		clearForm()
		startQuiz();
		questWord();
	}
	if (evt.target.classList.contains('button-3')) {
		wordQuiz = myWordsSet03;
		index = 0;
		clearForm()
		startQuiz();
		questWord();		
	}
	if (evt.target.classList.contains('button-4')) {
		wordQuiz = myWordsSet04;
		console.log(myWordsSet04[0][0]);
		startQuiz();
	}
	if (evt.target.classList.contains('button-5')) {
		wordQuiz = myWordsSet05;
		console.log(myWordsSet05[0][0]);
		startQuiz();
	}
	if (evt.target.classList.contains('button-6')) {
		clearForm()
		index--;
		if (index >= 0) {
			questWord();
		} else {
			index = -1;
			levelStart();
		}
	}
	if (evt.target.classList.contains('button-7')) {
		if (index >= 0 && index < randomWordQuiz.length) {
			checkAnswer();
		}
		
	}
	if (evt.target.classList.contains('button-8')) {
		clearForm()
		index++;
		if (index < randomWordQuiz.length) {
			questWord();
		} else {
			index = randomWordQuiz.length;
			levelComplete();
		}
	}
}

// randomizeArray(randArray) randomizes an array
// by taking out the first element and then
// placing it back at a random position
// inside the array. This process is repeated
// for every element of the array.
function randomizeArray(randArray) {
	// let firstElement = 0;
	for (let i = 0; i < randArray.length; i++) {
		let firstElement = randArray.shift();
		// firstElement = randArray[0];
		// randArray.splice(0,1);
		randArray.splice(randomNumber(randArray.length), 0, firstElement);
	}
	return randArray;
}

// randomNumber(max) returns a random integer
// between 0 and max (including 0 and max)
function randomNumber(max) {
	let randNum = Math.floor(Math.random()*(max+1));
	return randNum;
}

// randomNaturalNumber(max) returns a random integer
// between 1 and max (including 1 and max)
function randomNaturalNumber(max) {
	let randNatNum = Math.ceil(Math.random()*max);
	return randNatNum;
}

function displayCompleteWords() {
	let randomWords = randomizeArray(myWords);
	for (i = 0; i < 10; i++) {
		console.log(randomWords[i]);
	}
}

function displayMainWords() {
	let randomWords = randomizeArray(myWords);
	for (i = 0; i < randomWords.length; i++) {
		console.log(randomWords[i][0]);
	}
}

function displayWordsMeanings() {
	let randomWords = randomizeArray(myWords);
	for (i = 0; i < randomWords.length; i++) {
		for (j=1; j<randomWords[i].length; j++) {
			console.log(randomWords[i][j]);
		}
	}
}

function startQuiz() {
	const displayStatus = document.querySelector('.display-option');
	if (displayStatus.className === 'display-option display-no') {
		displayStatus.className = 'display-option display-yes';
	}

	randomWordQuiz = randomizeArray(wordQuiz);
	for (i=0; i<randomWordQuiz.length; i++) {
		console.log(randomWordQuiz[i]);
	}
}

function questWord() {
	const newWord = document.querySelector('.question-word');
	newWord.innerHTML = randomWordQuiz[index][0];
}

function levelStart() {
	const displayMessage = document.querySelector('.question-word');
	displayMessage.innerHTML = 'Game Start!';
}

function levelComplete() {
	const displayMessage = document.querySelector('.question-word');
	displayMessage.innerHTML = 'Game Complete!';
}

function checkAnswer() {
	let answerStatus = [];
	let inputAnswer = document.getElementById('writeAnswer').value;

	for (i=1; i<randomWordQuiz[index].length; i++) {
		if (inputAnswer === randomWordQuiz[index][i]) {
			answerStatus.push(true);
		} else {
			answerStatus.push(false);
		}
	}

	let answerSum = 0;

	for (i = 0;  i<answerStatus.length; i++) {
		answerSum += answerStatus[i];
	}

	if (answerSum === 1) {
		correctAnswer();
	} else {
		notCorrectAnswer();
	}
}

function correctAnswer() {
	let displayText = document.querySelector('.answer-result');
	displayText.innerHTML = 'Congratulations! Correct answer!'
	dispalyAllMeanings()
}

function notCorrectAnswer() {
	let displayText = document.querySelector('.answer-result');
	displayText.innerHTML = 'The correct answer is:'
	dispalyAllMeanings()
}

function dispalyAllMeanings() {
	let displayText = document.querySelector('.correct-answer');
	let translationsArray = randomWordQuiz[index]

	console.log(translationsArray);

	// let translationsArray = randomWordQuiz[index].splice(0,1);

	console.log(translationsArray);

	let joinedWords = translationsArray.join(' / ');

	displayText.innerHTML = joinedWords;

	// for (i=1; i<randomWordQuiz[index].length; i++) {
	// 	displayMessage += (randomWordQuiz[index][i]);
	// }
	// displayText.innerHTML = displayMessage;
}

function clearForm() {
	document.getElementById('writeAnswer').value = null;
}

function handleForm() {
	let inputAnswer = document.getElementById('writeAnswer').value;
	console.log(inputAnswer);
}

</script>

</body>
</html>
